<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
<mapper namespace="mapper.member">
	<!-- loginResult -->
	<select id="login" parameterType="com.myspace.vo.MemberVO" resultType="com.myspace.vo.SessionVO">
		SELECT COUNT(*) RESULT, NAME FROM SPACE_MEMBER WHERE ID =#{id} AND PASS =#{pass} GROUP BY NAME
	</select>
	
	<!-- 개인 회원가입 [position:0(개인), choicein: 1(바로 가입), choiceout(탈퇴): 0] -->
	<insert id="join_per" parameterType="com.myspace.vo.MemberVO">
		insert into space_member values(#{id},#{pass},#{name},#{hp},#{cname},#{tname},#{cnum},#{caddr1},#{caddr2},#{clic},#{chp},sysdate,0,1,0)
	</insert>
	<!-- 기업 회원가입 [position:1(기업), choicein: 0(가입 대기), choiceout: 0] -->
	<insert id="join_cor" parameterType="com.myspace.vo.MemberVO">
		insert into space_member values(#{id},#{pass},#{name},#{hp},#{cname},#{tname},#{cnum},#{caddr1},#{caddr2},#{clic},#{chp},sysdate,1,0,0)
	</insert>
	
	<!-- 가입승인 버튼 활성화 -->
	
	<!-- 탈퇴 버튼 활성화 -->
	
	
	
	
	
	
	
	
	<!-- 회원 리스트(페이징) -->
	<!-- <select id="list" parameterType="map" resultType="com.myspace.vo.MemberVO">
		SELECT RNO, ID, NAME, HP, GENDER, MDATE, CHOICE 
					FROM (SELECT ROWNUM RNO, ID, NAME, HP, GENDER, TO_CHAR(MDATE, 'YYYY-MM-DD') MDATE, CHOICE
					 	FROM (SELECT ID, NAME, HP, GENDER, MDATE, CHOICE FROM SPACE_MEMBER
					 		ORDER BY MDATE DESC))
					 WHERE RNO BETWEEN #{start} AND #{end}
	</select> -->
	
	<!-- 회원 상세정보 -->
	<!-- <select id="content" parameterType="java.lang.String" resultType="com.myspace.vo.MemberVO">
		SELECT ID, NAME, HP, GENDER, EMAIL, TO_CHAR(MDATE, 'YYYY-MM-DD') MDATE, HLIST, INTRO
				FROM SPACE_MEMBER WHERE ID=#{id}
	</select> -->
	
	<!-- 전체 ROW 수 -->
	<!-- <select id="count" resultType="int" >
		select count(*) from space_member
	</select> -->
	
</mapper>